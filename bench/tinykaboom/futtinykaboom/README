Adapted from: https://github.com/athas/tinykaboom
Original author: Troels Henriksen
Adapted by: Sam Westrick